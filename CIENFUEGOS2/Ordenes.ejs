<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administracion</title>
   
    <script src="https://kit.fontawesome.com/4340dc4f73.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="fontello.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

</head>

<a href="https://api.whatsapp.com/send?phone=541150500886"class="btn-wsp" target="_blank">
    <i class="fa fa-whatsapp"></i>
</a>


<body>

    <section id="header">
        <a href="#"><img src="../img/CIENFUEGOS/logo-gif (2).gif" class="logo" alt=""></a>

        <div>
            <ul id="navbar">
                <li><a href="/">Inicio</a></li>
                <li><a href="/shop">Comprar</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/about">Nosotros</a></li>
                <li><a class="active" href="/Acceder">Acceder</a></li>
                <li id="lg-bag"><a href="/cart"><i class="fas fa-shopping-cart"></i></a></li>
                <a href="#" id="close"><i class="fas fa-times"></i></a>
            </ul>
        </div>
        <div id="mobile">
            <a href="/cart"><i class="fas fa-shopping-cart"></i></a>
            <i id="bar" class="fas fa-outdent"></i>
        </div>
    </section>

    <main class="table">
        <section class="table_header">
            <h1>Ordenes de Clientes</h1>
            <input type="text" id="searchInput" placeholder="Buscar...">
        </section>
        <section class="table_body">
            <table>
                <thead>
                    <tr>
                        <th>id</th>
                        <th>Cliente</th>
                        <th>Localidad</th>
                        <th>Fecha de Creacion</th>
                        <th>Fecha de Retiro</th>
                        <th>Estado</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="ordersTableBody">
                    <tr>
                        <td class="table_id">1</td>
                        <td class="table_user"> <img src="https://static.vecteezy.com/system/resources/previews/005/005/837/original/user-icon-in-trendy-flat-style-isolated-on-grey-background-user-symbol-for-your-web-site-design-logo-app-ui-illustration-eps10-free-vector.jpg" alt="usuario"></td>
                        <td class="table_localidad">San Miguel</td>
                        <td class="table_date">11/7/2023</td>
                        <td class="table_pickup_date"><input type="datetime-local"></td>
                        <td class="table_status">
                            <select id="statusSelect">
                                <option value="pendiente" style="background-color: #ffc107;">Pendiente</option>
                                <option value="entregado" style="background-color: #28a745;">Entregado</option>
                                <option value="cancelado" style="background-color: #dc3545;">Cancelado</option>
                            </select>
                        </td>
                        <td class="table_total">$45.500</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>
    
    
    
    
    


    <section id="newsletter" class="section-p1 section-m1">
        <div class="newstext">
            <h4>Suscribite a nuestro <span>Whatsapp</span></h4>
            <p>Recibi actualizaciones y <span>nuevas ofertas</span> a tu Celular</p>
        </div>
        <div class="form">
            <input type="number" placeholder="Tu numero de Telefono">
            <button class="normal">Suscribirme</button>
        </div>
    </section>

    <footer class="section-p1">
        <div class="col">
            <img class="logo" src="../img/CIENFUEGOS/logo-gif (2).gif" alt="">
            <h4>Contacto</h4>
            <p><strong>Dirección:</strong>Hipólito Yrigoyen 2270. José C. Paz</p>
            <p><strong>Telefono:</strong>02320-425270</p>
            <p><strong>Celular:</strong>11-5050-0886</p>
            </div>
            <div class="follow">
            <h4>Seguinos!</h4>
            <div class="icon">
                <a href="https://www.facebook.com/Cienfuegosjcpaz" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a href="https://www.instagram.com/cien.fuegosjosecpaz/" target="_blank"><i class="fab fa-instagram"></i></a>
            </div>
        </div>

        <div class="col">
            <h4>Nosotros</h4>
            <a href="../about.html">Quienes Somos</a>
            <a href="https://nieveartificialnashville.com.ar/" target="_blank">Nieve Artificial</a>
            <a href="https://www.instagram.com/nieveartificialnashville" target="_blank">Instagram Nashville</a>
        </div>

        <div class="col">
            <h4>Mi Cuenta</h4>
            <a href="../about.ejs">Registrarme</a>
            <a href="#">Ver carrito</a>
            <a href="#">Lista de Deseados</a>
            <a href="#">Seguir mi orden</a>
            <a href="#">Ayuda</a>
        </div>

        <div class="col install">
            <h4>Nieve Artificial Nashville</h4>
            <div class="row">
                <img src="../img/CIENFUEGOS/narigon-nashville2.png" alt="">
        </div>

        <div id="copyright">
            <a href=""><p>Pagina hecha por Tomas Martinez</p></a>
        </div>
    </footer>


    <script>
function handleKeyPress(event) {
    if (event.key === "Enter") {
        event.preventDefault(); 
        document.getElementById("loginButton").click();
    }
}


document.querySelectorAll("input").forEach(input => {
    input.addEventListener("keypress", handleKeyPress);
});


document.getElementById("loginButton").addEventListener("click", function() {
    const username = document.querySelector("input[name='username']").value;
    const password = document.querySelector("input[name='password']").value;

    fetch("/api/auth/login", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            username: username,
            password: password
        })
    })
    .then(response => {
        if (!response.ok) {
            throw new Error("Credenciales incorrectas");
        }
        return response.json();
    })
    .then(data => {
        // Almacena el token de acceso en el localStorage
        localStorage.setItem("accessToken", data.accessToken);
        
        localStorage.setItem("userId", data.userId);
        
        // Redirige a otra página
        window.location.href = "/shop";
    })
    .catch(error => {
        // Maneja cualquier error que ocurra durante la solicitud
        console.error(error);
    });
});

      </script>


<script src="ordenes.js"></script>


</body>


</html>